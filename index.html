<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Irie Development | iOS App Developer &amp; Arkansas Apps</title>
  <meta name="description" content="Irie Development creates innovative iOS apps for iPhone, iPad, and Apple Watch, including Sudoku Mindscape and Hidden Secrets of Arkansas. Based in Arkansas.">
  <meta name="theme-color" content="#007AFF">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- SEO Meta Tags -->
  <meta name="keywords" content="iOS developer, iPhone apps, iPad apps, Apple Watch apps, Arkansas apps, Sudoku Mindscape, Hidden Secrets of Arkansas, mobile app development, iOS programming">
  <meta name="author" content="Irie Development">
  <meta name="robots" content="index, follow">
  <meta name="language" content="English">
  <meta name="revisit-after" content="7 days">
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://iriedevelopment.com/">
  <meta property="og:title" content="Irie Development | iOS App Developer & Arkansas Apps">
  <meta property="og:description" content="Innovative iOS apps for iPhone, iPad, and Apple Watch. Discover Sudoku Mindscape, Hidden Secrets of Arkansas, and more!">
  <meta property="og:image" content="https://iriedevelopment.com/og-image.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:site_name" content="Irie Development">
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://iriedevelopment.com/">
  <meta property="twitter:title" content="Irie Development | iOS App Developer & Arkansas Apps">
  <meta property="twitter:description" content="Innovative iOS apps for iPhone, iPad, and Apple Watch. Discover Sudoku Mindscape, Hidden Secrets of Arkansas, and more!">
  <meta property="twitter:image" content="https://iriedevelopment.com/twitter-image.jpg">
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <!-- Preconnect to external domains -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://apps.apple.com">
  <link rel="preconnect" href="https://exploringarkansas.myspreadshop.com">
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700|Montserrat:700,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  
  <!-- Serverless API Configuration -->
  <script>
    // Set your serverless API URL
    // Using your Vercel deployment: https://irie-development.vercel.app
    window.SERVERLESS_API_URL = 'https://irie-development.vercel.app/api';
  </script>
  
  <!-- Environment config (generated by GitHub Actions with secrets) -->
  <!-- Still used for EmailJS configuration -->
  <script src="env-config.js"></script>
  
  <!-- Newsletter Manager - Using serverless API version -->
  <script src="newsletter-serverless.js"></script>

  <!-- EmailJS SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <script>
      // Use EmailJS User ID from env-config.js if available, otherwise use hardcoded fallback
      const emailjsUserId = (window.ENV_CONFIG && window.ENV_CONFIG.emailjsUserId) || 'zRYVGu1o6DDmrdc4f';
      emailjs.init(emailjsUserId);
  </script>

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Irie Development",
    "description": "Independent iOS developer creating innovative apps for iPhone, iPad, and Apple Watch",
    "url": "https://iriedevelopment.com",
    "sameAs": [
      "https://apps.apple.com/us/developer/irie-coffelt/id1228289281"
    ],
    "knowsAbout": ["iOS Development", "Mobile App Development", "Swift Programming", "Arkansas Tourism"],
    "hasOccupation": {
      "@type": "Occupation",
      "name": "iOS Developer",
      "description": "Mobile app developer specializing in iOS applications"
    }
  }
  </script>
  <!-- App Store Links Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "Sudoku Mindscape",
    "applicationCategory": "GameApplication",
    "operatingSystem": "iOS",
    "offers": {
      "@type": "Offer",
      "url": "https://apps.apple.com/us/app/sudoku-mindscape/id6745157437"
    }
  }
  </script>
</head>
<body>
  <div class="container">
    <h1>Irie Development</h1>
    <div class="about">
      <strong>About Me:</strong><br>
      Hi, I'm an independent iOS developer passionate about building engaging and useful apps for iPhone, iPad, and Apple Watch.
    </div>
    <div class="apps" id="appsContainer">
      <!-- Apps will be loaded dynamically -->
      <div class="apps-loading">
        <p>Loading apps...</p>
      </div>
    </div>
    <div class="button-group">
      <a class="store-link apps" href="https://apps.apple.com/us/developer/irie-coffelt/id1228289281" target="_blank">üì≤ View All Apps on the App Store</a>
      <button type="button" class="store-link shop" onclick="openStoreModal()">üõçÔ∏è Shop Arkansas Gear For The Family!</button>
    </div>

    <!-- Newsletter Signup -->
    <div class="newsletter-section">
      <h3 class="newsletter-title">Stay Updated</h3>
      <p class="newsletter-subtitle">Get notified about new apps and exclusive Arkansas merch!</p>
      <form class="newsletter-form" id="newsletterForm">
        <input type="email" placeholder="Enter your email" required class="newsletter-input">
        <button type="submit" class="newsletter-btn">Subscribe</button>
      </form>
    </div>

    <!-- Store Modal -->
    <div id="storeModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Arkansas Gear Store</h3>
          <button type="button" class="close-btn" onclick="closeStoreModal()">&times;</button>
        </div>
        <div class="modal-body">
          <iframe 
            src="https://exploringarkansas.myspreadshop.com" 
            class="modal-iframe"
            title="Arkansas Merch Store"
            allowfullscreen>
          </iframe>
        </div>
      </div>
    </div>

    <nav class="main-nav">
      <a href="pages/privacy_policies/privacy.html" class="store-link nav">Privacy Policies</a>
      <a href="pages/terms_of_service/terms.html" class="store-link nav">Terms of Use</a>
      <a href="https://www.facebook.com/IrieDevelopment/?checkpoint_src=any" class="store-link nav" target="_blank" rel="noopener">Contact</a>
      <a href="admin.html" class="store-link nav admin-link">üîß Admin</a>
    </nav>
  </div>

  <script>
    // Store Modal Functions
    function openStoreModal() {
      document.getElementById('storeModal').style.display = 'block';
      document.body.style.overflow = 'hidden'; // Prevent background scrolling
    }

    function closeStoreModal() {
      document.getElementById('storeModal').style.display = 'none';
      document.body.style.overflow = 'auto'; // Restore scrolling
    }

    // Close modal when clicking outside
    window.onclick = function(event) {
      const modal = document.getElementById('storeModal');
      if (event.target === modal) {
        closeStoreModal();
      }
    }

    // Close modal with Escape key
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape') {
        closeStoreModal();
      }
    });

    // Newsletter form is handled by newsletter-serverless.js

    // Load apps dynamically from cloud storage
    async function loadApps() {
      const container = document.getElementById('appsContainer');
      if (!container) return;

      try {
        let apps = [];
        
        // Try JSONBin public bin first (source of truth, no authentication needed for public bins)
        const publicBinId = '69670ee1d0ea881f406a814c'; // Public apps bin
        try {
          const response = await fetch(`https://api.jsonbin.io/v3/b/${publicBinId}/latest`, {
            cache: 'no-store'
          });

          if (response.ok) {
            const result = await response.json();
            const data = result.record || result;
            apps = data.apps || [];
            if (apps.length > 0) {
              console.log('‚úÖ Loaded apps from JSONBin:', apps.length);
              renderApps(container, apps);
              return;
            }
          } else {
            console.log('JSONBin response not OK:', response.status, response.statusText);
          }
        } catch (binError) {
          console.log('JSONBin access failed:', binError);
        }

        // Fallback: Try local data file (public, no auth needed)
        try {
          const localResponse = await fetch('/data/apps.json', {
            cache: 'no-store'
          });
          if (localResponse.ok) {
            const localData = await localResponse.json();
            apps = localData.apps || [];
            if (apps.length > 0) {
              console.log('‚úÖ Loaded apps from local file:', apps.length);
              renderApps(container, apps);
              return;
            }
          }
        } catch (localError) {
          console.log('Local apps file not found:', localError);
        }

        // Fallback to default apps if all sources fail
        if (apps.length === 0) {
          apps = getDefaultApps();
        }

        renderApps(container, apps);

      } catch (error) {
        console.error('Error loading apps:', error);
        // Show error message with default apps as fallback
        const container = document.getElementById('appsContainer');
        const defaultApps = getDefaultApps();
        renderApps(container, defaultApps);
      }
    }

    // Get default apps (fallback)
    function getDefaultApps() {
      return [
        {
          title: 'Sudoku Mindscape - Basic',
          description: 'Puzzle',
          url: 'https://apps.apple.com/us/app/sudoku-mindscape/id6745157437',
          icon: 'https://is1-ssl.mzstatic.com/image/thumb/Purple221/v4/8a/fe/d7/8afed7e5-ef74-5dcd-b430-1bcd35851d4d/AppIcon-0-0-1x_U007epad-0-1-85-220.png/540x540bb.jpg'
        },
        {
          title: 'Sudoku Mindscape - Pro',
          description: 'Puzzle',
          url: 'https://apps.apple.com/us/app/sudoku-mindscape-pro/id6749170748',
          icon: 'https://is1-ssl.mzstatic.com/image/thumb/Purple211/v4/d2/df/ab/d2dfab9b-25c0-8935-7579-e030ec38e241/AppIcon-0-0-1x_U007epad-0-1-85-220.png/540x540bb.jpg'
        },
        {
          title: 'Hidden Secrets of Arkansas',
          description: 'Travel',
          url: 'https://apps.apple.com/us/app/hidden-secrets-of-arkansas/id1576165434',
          icon: 'https://is1-ssl.mzstatic.com/image/thumb/Purple211/v4/ee/db/73/eedb73da-4212-a1ec-c4fd-e3bcd118b15b/AppIcon-0-1x_U007epad-0-7-0-sRGB-85-220-0.png/540x540bb.jpg'
        },
        {
          title: 'Oliver\'s Whiteboard',
          description: 'Education',
          url: 'https://apps.apple.com/us/app/olivers-whiteboard/id1554030752',
          icon: 'https://is1-ssl.mzstatic.com/image/thumb/Purple114/v4/3d/37/92/3d3792af-8fc8-7d64-a95d-60d6d616b796/AppIcon-0-1x_U007emarketing-0-7-0-sRGB-85-220.png/540x540bb.jpg'
        }
      ];
    }

    // Render apps to the container
    function renderApps(container, apps) {
      container.innerHTML = apps.map((app, index) => `
        <a class="app-card" href="${app.url}" target="_blank" data-index="${index}">
          <span class="app-icon-container">
            <img src="${app.icon}" alt="${app.title} app icon" class="app-icon">
          </span>
          <span class="app-info">
            <span class="app-title">${app.title}</span>
            <span class="app-desc">${app.description}</span>
          </span>
        </a>
      `).join('');
    }

    // Load apps when page loads
    document.addEventListener('DOMContentLoaded', () => {
      loadApps();
    });
  </script>
</body>
</html>
